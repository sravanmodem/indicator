{% if error %}
<div class="text-center py-4">
    <p class="text-red-400 text-sm">{{ error }}</p>
</div>
{% elif standard and camarilla %}
<div class="space-y-3">
    <!-- Standard Pivots -->
    <div class="bg-surface-800/50 rounded-xl p-4 border border-cyan-500/30">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 rounded-xl bg-cyan-500/20 flex items-center justify-center">
                    <span class="font-bold text-[9px] text-cyan-400">STD</span>
                </div>
                <div>
                    <p class="text-white font-bold">Standard Pivots</p>
                    <p class="text-slate-400 text-xs">Support & Resistance</p>
                </div>
            </div>
            <div class="text-right">
                <p class="text-cyan-400 font-mono font-bold text-lg">{{ "%.2f"|format(standard.pivot) }}</p>
                <p class="text-slate-400 text-xs">PIVOT POINT</p>
            </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
            <!-- Resistance Levels -->
            <div class="space-y-2">
                <p class="text-xs font-bold text-red-400 uppercase">Resistance</p>
                <div class="space-y-1.5">
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R3</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(standard.r3) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R2</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(standard.r2) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R1</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(standard.r1) }}</span>
                    </div>
                </div>
            </div>
            <!-- Support Levels -->
            <div class="space-y-2">
                <p class="text-xs font-bold text-green-400 uppercase">Support</p>
                <div class="space-y-1.5">
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S1</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(standard.s1) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S2</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(standard.s2) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S3</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(standard.s3) }}</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- Current Price Position -->
        <div class="mt-3 p-2 rounded-lg bg-surface-900/50">
            <div class="flex items-center justify-between text-xs">
                <span class="text-slate-400">Current Price:</span>
                <span class="text-white font-mono font-bold">{{ "%.2f"|format(price) }}</span>
            </div>
            <div class="flex items-center justify-between text-xs mt-1">
                <span class="text-slate-400">Position:</span>
                {% if price > standard.r1 %}
                <span class="text-red-400 font-bold">Above R1 (Bullish)</span>
                {% elif price < standard.s1 %}
                <span class="text-green-400 font-bold">Below S1 (Bearish)</span>
                {% else %}
                <span class="text-yellow-400 font-bold">Between S1 & R1</span>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Camarilla Pivots -->
    <div class="bg-surface-800/50 rounded-xl p-4 border border-purple-500/30">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center">
                    <span class="font-bold text-[9px] text-purple-400">CAM</span>
                </div>
                <div>
                    <p class="text-white font-bold">Camarilla Pivots</p>
                    <p class="text-slate-400 text-xs">Intraday Levels</p>
                </div>
            </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
            <!-- Resistance Levels -->
            <div class="space-y-2">
                <p class="text-xs font-bold text-red-400 uppercase">Resistance</p>
                <div class="space-y-1.5">
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R4</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.r4) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R3</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.r3) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R2</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.r2) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20">
                        <span class="text-red-400 text-xs font-bold">R1</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.r1) }}</span>
                    </div>
                </div>
            </div>
            <!-- Support Levels -->
            <div class="space-y-2">
                <p class="text-xs font-bold text-green-400 uppercase">Support</p>
                <div class="space-y-1.5">
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S1</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.s1) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S2</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.s2) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S3</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.s3) }}</span>
                    </div>
                    <div class="flex items-center justify-between px-2 py-1.5 rounded-lg bg-green-500/10 border border-green-500/20">
                        <span class="text-green-400 text-xs font-bold">S4</span>
                        <span class="text-white font-mono text-sm">{{ "%.2f"|format(camarilla.s4) }}</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- Trading Strategy -->
        <div class="mt-3 p-2 rounded-lg bg-purple-500/10 border border-purple-500/20">
            <p class="text-purple-400 text-xs font-bold mb-1">Camarilla Strategy</p>
            <p class="text-slate-300 text-[10px]">
                Buy at S3, SL at S4, Target R3 | Sell at R3, SL at R4, Target S3
            </p>
        </div>
    </div>
</div>
{% else %}
<div class="space-y-3">
    <div class="h-40 bg-surface-700 rounded-xl animate-pulse"></div>
    <div class="h-40 bg-surface-700 rounded-xl animate-pulse"></div>
</div>
{% endif %}
