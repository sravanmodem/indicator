{% if error %}
<div class="flex items-center space-x-2 text-slate-500 text-xs h-full">
    {{ error }}
</div>
{% else %}
<div class="flex items-center gap-3 overflow-x-auto h-full">
    <!-- NIFTY Card -->
    <div class="glass rounded-lg px-3 py-1.5 border border-slate-700/50 min-w-max flex-shrink-0 h-full flex items-center">
        <div class="flex items-center gap-2">
            <div>
                <p class="text-[9px] font-bold text-slate-400 uppercase tracking-wider">NIFTY 50</p>
                <p class="text-sm font-bold text-white font-mono">{{ "{:,.0f}".format(nifty.last_price or 0) }}</p>
            </div>
            <div class="h-8 w-px bg-slate-700/50"></div>
            <div class="text-right">
                <p class="text-[8px] text-slate-500">O/H/L</p>
                <p class="text-xs font-mono text-slate-300">{{ "{:,.0f}".format(nifty.get('ohlc', {}).get('open') or nifty.get('open') or 0) }}/</p>
                <p class="text-xs font-mono text-green-400">{{ "{:,.0f}".format(nifty.get('ohlc', {}).get('high') or nifty.get('high') or 0) }}/</p>
                <p class="text-xs font-mono text-red-400">{{ "{:,.0f}".format(nifty.get('ohlc', {}).get('low') or nifty.get('low') or 0) }}</p>
            </div>
            <span class="text-[9px] font-bold {% if (nifty.change or 0) >= 0 %}text-green-400{% else %}text-red-400{% endif %} ml-1">
                {{ "{:+.2f}".format(nifty.change or 0) }}%
            </span>
        </div>
    </div>

    <!-- BANKNIFTY Card -->
    <div class="glass rounded-lg px-3 py-1.5 border border-slate-700/50 min-w-max flex-shrink-0 h-full flex items-center">
        <div class="flex items-center gap-2">
            <div>
                <p class="text-[9px] font-bold text-slate-400 uppercase tracking-wider">BANKNIFTY</p>
                <p class="text-sm font-bold text-white font-mono">{{ "{:,.0f}".format(banknifty.last_price or 0) }}</p>
            </div>
            <div class="h-8 w-px bg-slate-700/50"></div>
            <div class="text-right">
                <p class="text-[8px] text-slate-500">O/H/L</p>
                <p class="text-xs font-mono text-slate-300">{{ "{:,.0f}".format(banknifty.get('ohlc', {}).get('open') or banknifty.get('open') or 0) }}/</p>
                <p class="text-xs font-mono text-green-400">{{ "{:,.0f}".format(banknifty.get('ohlc', {}).get('high') or banknifty.get('high') or 0) }}/</p>
                <p class="text-xs font-mono text-red-400">{{ "{:,.0f}".format(banknifty.get('ohlc', {}).get('low') or banknifty.get('low') or 0) }}</p>
            </div>
            <span class="text-[9px] font-bold {% if (banknifty.change or 0) >= 0 %}text-green-400{% else %}text-red-400{% endif %} ml-1">
                {{ "{:+.2f}".format(banknifty.change or 0) }}%
            </span>
        </div>
    </div>

    <!-- SENSEX Card -->
    <div class="glass rounded-lg px-3 py-1.5 border border-slate-700/50 min-w-max flex-shrink-0 h-full flex items-center">
        <div class="flex items-center gap-2">
            <div>
                <p class="text-[9px] font-bold text-slate-400 uppercase tracking-wider">SENSEX</p>
                <p class="text-sm font-bold text-white font-mono">{{ "{:,.0f}".format(sensex.last_price or 0) }}</p>
            </div>
            <div class="h-8 w-px bg-slate-700/50"></div>
            <div class="text-right">
                <p class="text-[8px] text-slate-500">O/H/L</p>
                <p class="text-xs font-mono text-slate-300">{{ "{:,.0f}".format(sensex.get('ohlc', {}).get('open') or sensex.get('open') or 0) }}/</p>
                <p class="text-xs font-mono text-green-400">{{ "{:,.0f}".format(sensex.get('ohlc', {}).get('high') or sensex.get('high') or 0) }}/</p>
                <p class="text-xs font-mono text-red-400">{{ "{:,.0f}".format(sensex.get('ohlc', {}).get('low') or sensex.get('low') or 0) }}</p>
            </div>
            <span class="text-[9px] font-bold {% if (sensex.change or 0) >= 0 %}text-green-400{% else %}text-red-400{% endif %} ml-1">
                {{ "{:+.2f}".format(sensex.change or 0) }}%
            </span>
        </div>
    </div>
</div>
{% endif %}
