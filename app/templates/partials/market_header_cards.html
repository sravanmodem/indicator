{% if error %}
<div class="flex items-center justify-center w-full text-slate-500 text-xs h-full">
    {{ error }}
</div>
{% else %}
<div class="flex items-center justify-center gap-4 h-full w-full px-2">
    <!-- NIFTY Card -->
    <div class="flex-1 max-w-sm bg-gradient-to-r from-slate-800/80 to-slate-900/60 rounded-lg border border-slate-700/50 backdrop-blur-sm h-full flex items-center px-4 py-1.5 shadow-lg shadow-black/20">
        <div class="flex items-center justify-between w-full gap-3">
            <!-- Left: Name & LTP -->
            <div class="flex items-center gap-3">
                <div class="w-1 h-8 rounded-full bg-gradient-to-b from-blue-500 to-blue-600"></div>
                <div>
                    <p class="text-[10px] font-semibold text-blue-400 uppercase tracking-wider">NIFTY 50</p>
                    <p class="text-base font-bold text-white font-mono tracking-tight">{{ "{:,.2f}".format(nifty.last_price or 0) }}</p>
                </div>
            </div>
            <!-- Center: OHLC -->
            <div class="hidden sm:flex items-center gap-2 text-[10px] font-mono">
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">O</span>
                    <span class="text-slate-300">{{ "{:,.0f}".format(nifty.get('ohlc', {}).get('open') or 0) }}</span>
                </div>
                <div class="w-px h-6 bg-slate-700/50"></div>
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">H</span>
                    <span class="text-green-400">{{ "{:,.0f}".format(nifty.get('ohlc', {}).get('high') or 0) }}</span>
                </div>
                <div class="w-px h-6 bg-slate-700/50"></div>
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">L</span>
                    <span class="text-red-400">{{ "{:,.0f}".format(nifty.get('ohlc', {}).get('low') or 0) }}</span>
                </div>
            </div>
            <!-- Right: Change -->
            <div class="flex flex-col items-end">
                <span class="text-[10px] font-bold {% if (nifty.change or 0) >= 0 %}text-green-400{% else %}text-red-400{% endif %}">
                    {{ "{:+.2f}".format(nifty.change or 0) }}%
                </span>
                <span class="text-[9px] font-mono {% if (nifty.net_change or 0) >= 0 %}text-green-500/70{% else %}text-red-500/70{% endif %}">
                    {{ "{:+.2f}".format(nifty.net_change or 0) }}
                </span>
            </div>
        </div>
    </div>

    <!-- BANKNIFTY Card -->
    <div class="flex-1 max-w-sm bg-gradient-to-r from-slate-800/80 to-slate-900/60 rounded-lg border border-slate-700/50 backdrop-blur-sm h-full flex items-center px-4 py-1.5 shadow-lg shadow-black/20">
        <div class="flex items-center justify-between w-full gap-3">
            <!-- Left: Name & LTP -->
            <div class="flex items-center gap-3">
                <div class="w-1 h-8 rounded-full bg-gradient-to-b from-purple-500 to-purple-600"></div>
                <div>
                    <p class="text-[10px] font-semibold text-purple-400 uppercase tracking-wider">BANKNIFTY</p>
                    <p class="text-base font-bold text-white font-mono tracking-tight">{{ "{:,.2f}".format(banknifty.last_price or 0) }}</p>
                </div>
            </div>
            <!-- Center: OHLC -->
            <div class="hidden sm:flex items-center gap-2 text-[10px] font-mono">
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">O</span>
                    <span class="text-slate-300">{{ "{:,.0f}".format(banknifty.get('ohlc', {}).get('open') or 0) }}</span>
                </div>
                <div class="w-px h-6 bg-slate-700/50"></div>
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">H</span>
                    <span class="text-green-400">{{ "{:,.0f}".format(banknifty.get('ohlc', {}).get('high') or 0) }}</span>
                </div>
                <div class="w-px h-6 bg-slate-700/50"></div>
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">L</span>
                    <span class="text-red-400">{{ "{:,.0f}".format(banknifty.get('ohlc', {}).get('low') or 0) }}</span>
                </div>
            </div>
            <!-- Right: Change -->
            <div class="flex flex-col items-end">
                <span class="text-[10px] font-bold {% if (banknifty.change or 0) >= 0 %}text-green-400{% else %}text-red-400{% endif %}">
                    {{ "{:+.2f}".format(banknifty.change or 0) }}%
                </span>
                <span class="text-[9px] font-mono {% if (banknifty.net_change or 0) >= 0 %}text-green-500/70{% else %}text-red-500/70{% endif %}">
                    {{ "{:+.2f}".format(banknifty.net_change or 0) }}
                </span>
            </div>
        </div>
    </div>

    <!-- SENSEX Card -->
    <div class="flex-1 max-w-sm bg-gradient-to-r from-slate-800/80 to-slate-900/60 rounded-lg border border-slate-700/50 backdrop-blur-sm h-full flex items-center px-4 py-1.5 shadow-lg shadow-black/20">
        <div class="flex items-center justify-between w-full gap-3">
            <!-- Left: Name & LTP -->
            <div class="flex items-center gap-3">
                <div class="w-1 h-8 rounded-full bg-gradient-to-b from-amber-500 to-amber-600"></div>
                <div>
                    <p class="text-[10px] font-semibold text-amber-400 uppercase tracking-wider">SENSEX</p>
                    <p class="text-base font-bold text-white font-mono tracking-tight">{{ "{:,.2f}".format(sensex.last_price or 0) }}</p>
                </div>
            </div>
            <!-- Center: OHLC -->
            <div class="hidden sm:flex items-center gap-2 text-[10px] font-mono">
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">O</span>
                    <span class="text-slate-300">{{ "{:,.0f}".format(sensex.get('ohlc', {}).get('open') or 0) }}</span>
                </div>
                <div class="w-px h-6 bg-slate-700/50"></div>
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">H</span>
                    <span class="text-green-400">{{ "{:,.0f}".format(sensex.get('ohlc', {}).get('high') or 0) }}</span>
                </div>
                <div class="w-px h-6 bg-slate-700/50"></div>
                <div class="flex flex-col items-center">
                    <span class="text-slate-500 text-[8px]">L</span>
                    <span class="text-red-400">{{ "{:,.0f}".format(sensex.get('ohlc', {}).get('low') or 0) }}</span>
                </div>
            </div>
            <!-- Right: Change -->
            <div class="flex flex-col items-end">
                <span class="text-[10px] font-bold {% if (sensex.change or 0) >= 0 %}text-green-400{% else %}text-red-400{% endif %}">
                    {{ "{:+.2f}".format(sensex.change or 0) }}%
                </span>
                <span class="text-[9px] font-mono {% if (sensex.net_change or 0) >= 0 %}text-green-500/70{% else %}text-red-500/70{% endif %}">
                    {{ "{:+.2f}".format(sensex.net_change or 0) }}
                </span>
            </div>
        </div>
    </div>
</div>
{% endif %}
